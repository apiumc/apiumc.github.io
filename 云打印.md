### 云打印安装

[下载云打印安装包](https://wdk.oss-cn-hangzhou.aliyuncs.com/SuperPrinter.rar)，安装好的云打印，打开 Super Printer 云打印程序，在电脑右下角出现云打印图标。

#### 注册到平台

第一次打开需要我们的注册云打印。点击注册到平台如下图：
![image](http://www.365lu.cn/UserResources/1usm4ih/1604482960903/image.png)
输入注册码 Key（如果没有请向我们获取），点击确认；通过后，则表示云打印设备注册成功了，同时选择本地对接的打印机（默认会对接默认打印机）

#### 测试云打印

打开[打印测试页面](https://printapi.boomingshop.cn/.well-known/demo.html),输入云打印设备标识--选择 pdf 文件，点击确认打印；如下图：
![image](http://www.365lu.cn/UserResources/1usm4ih/1604551857035/image.png)

### API 打印 PDF 格式文件

> PUT https://wdk.oss-cn-hangzhou.aliyuncs.com/Print/`device`.`time`.pdf

| 参数名称 | 类型   | 说明           |
| -------- | ------ | -------------- |
| device   | String | 云打印设备标识 |
| time     | int    | 当前时间点     |

**备注**：如何获取云打印设备标识，点击云打印图标，再点击菜单中的~所属。。。~，则云打印标识就会自动复制到粘贴板；如下图：
![image](http://www.365lu.cn/UserResources/1usm4ih/1604545218282/image.png)

#### 各语言代码实例

``` java
//js实例
fetch(['https://wdk.oss-cn-hangzhou.aliyuncs.com/Print/'
    , device,'.',new Date().getTime(),'.pdf'].join(''), {
    method: 'PUT',
    body: file
}).then(res => {
});

//Java实例

String sfmt="https://wdk.oss-cn-hangzhou.aliyuncs.com/Print/%s.%d.pdf";
URL url = new URL(String.format(sfmt, device,System.currentTimeMillis()));
HttpURLConnection conn = (HttpURLConnection)url.openConnection();
conn.setRequestMethod("PUT");
conn.setDoInput(true);
OutputStream os = conn.getOutputStream();
Copy(file,os);
os.flush();
os.close();
conn.getResponseCode();


//C#实例
var httpCleint = new HttpClient();
var sfmt="https://wdk.oss-cn-hangzhou.aliyuncs.com/Print/{0}.{1}.pdf";
var result = httpCleint.PutAsync(String.Format(sfmt, device,DateTime.Now.Ticks)
    ,new System.Net.Http.StreamContent(file)).Result;
```

### 获取打印设备列表

> GET https://printapi.boomingshop.cn/`key`/Check/Message/Print?`start`=0&`limit`=25

| 参数名称 | 类型   | 说明     |
| -------- | ------ | -------- |
| key      | String | 注册码   |
| start    | int    | 开始行号 |
| limit    | int    | 连续数量 |

此接口返回以 register 注册时间为排序的云打印设备列表，格式如下:

``` js
{
    "data": [{
	"device": "....",
	"active": "1604301935",
	"register": "1604300479"
    }],
    "total": 1
}
```

| 字典名称  | 类型   | 说明           |
| --------- | ------ | -------------- |
| .device   | String | 云打印设备标识 |
| .active   | int    | 最后心跳时间   |
| .register | int    | 注册时间       |
| total     | int    | 云打印设备总数 |

### 获取最近激活时间云打印设备列表

> GET https://printapi.boomingshop.cn/`key`/Check/Message/Print/`time`

| 参数名称 | 类型   | 说明             |
| -------- | ------ | ---------------- |
| key      | String | 注册码           |
| time     | int    | 不小于此激活时间 |

此接口返回以最近 active 激活时间排序的云打印设备列表，格式如下:

``` js
{
    "data": [{
	"device": "....",
	"active": "1604301935",
	"register": "1604300479"
    }],
    "total": 1
//只会返回100个设备列表
}


```

| 字典名称  | 类型   | 说明                 |
| --------- | ------ | -------------------- |
| .device   | String | 云打印标识           |
| .active   | int    | 最后心跳时间         |
| .register | int    | 注册时间             |
| total     | int    | 满足激活时间设备总数 |

### 获取单个云打印设备详情

> GET https://printapi.boomingshop.cn/`key`/Check/Message/Print/`device`

| 参数名称 | 类型   | 说明     |
| -------- | ------ | -------- |
| key      | String | 注册码   |
| device   | String | 设备标识 |

此接口返回单个云打印设备，格式如下:

``` js
{
	"device": "....",
	"active": "1604301935",
	"register": "1604300479"
}
```

| 字典名称 | 类型   | 说明         |
| -------- | ------ | ------------ |
| device   | String | 设备标识     |
| active   | int    | 最后心跳时间 |
| register | int    | 注册时间     |
